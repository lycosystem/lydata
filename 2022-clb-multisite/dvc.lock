schema: '2.0'
stages:
  lyproxify:
    cmd: "lyscripts data lyproxify -i raw.csv -o data.csv -m mapping.py -r 0 1 2 --drop-rows\
      \ 439 --add-index\n"
    deps:
    - path: mapping.py
      md5: 4c80fad76f9eda89e9352cbeee0e96d3
      size: 25193
    - path: raw.csv
      md5: 4df7c504c92c369c2f891b0d170041bb
      size: 215489
    outs:
    - path: data.csv
      md5: c314b7b65b23b6dd5c0ac4e51b3646ca
      size: 120291
  data-description:
    cmd: "python render.py\n"
    deps:
    - path: README.template
      md5: f13cc752ef38306fc9693caf20b06eb6
      size: 615
    - path: mapping.py
      md5: 82e3a332bcfc1fe048096451e9389f18
      size: 28444
    - path: render.py
      md5: 142ee8a2e4f2df81d8428378221eb524
      size: 608
    outs:
    - path: README.partial
      md5: d3f25ce7c23814bc51eb97c43e91b54c
      size: 8525
  append-docs:
    cmd: "../.venv/bin/lazydocs --output-path=stdout mapping.py >> README.md\n"
    deps:
    - path: mapping.py
      md5: 82e3a332bcfc1fe048096451e9389f18
      size: 28444
  description-and-docs:
    cmd: "python ../render.py -m mapping.py -t README.template -o README.md\n"
    deps:
    - path: ../render.py
      md5: 6e259b8b08d52dd5dcbd3ebfc4ffceca
      size: 1699
    - path: README.template
      md5: 12edce3ff9fd2bb77bcbfece4a1c0886
      size: 642
    - path: mapping.py
      md5: 4c80fad76f9eda89e9352cbeee0e96d3
      size: 25193
    outs:
    - path: README.md
      md5: 30c9315b7446d1f782f722e8f0f804d1
      size: 10625
  test:
    cmd:
    - ../.venv/bin/lazydocs --output-path=. mapping.py
    - cat README.md mapping.py.md > test.md
    - rm mapping.py.md
    deps:
    - path: README.md
      md5: 236f8b328346225da9c53af34a5506ce
      size: 8520
    - path: mapping.py
      md5: 82e3a332bcfc1fe048096451e9389f18
      size: 28444
    outs:
    - path: test.md
      md5: 410c3eb6c19846015a0716402c258ad7
      size: 16412
  mapping-docs:
    cmd: "../.venv/bin/lazydocs --output-path=. mapping.py\n"
    deps:
    - path: mapping.py
      md5: 82e3a332bcfc1fe048096451e9389f18
      size: 28444
    outs:
    - path: mapping.py.md
      md5: ccb23bf4a83fc6d22c00f33ea57d4ae8
      size: 7892
  concat-readme:
    cmd:
    - ../.venv/bin/lazydocs --output-path=. --no-watermark mapping.py
    - cat README.partial mapping.py.md > README.md
    deps:
    - path: README.partial
      md5: d3f25ce7c23814bc51eb97c43e91b54c
      size: 8525
    - path: mapping.py
      md5: 82e3a332bcfc1fe048096451e9389f18
      size: 28444
    outs:
    - path: README.md
      md5: ca6f0865b2b78202a7e1c10753e00523
      size: 16314
  clean:
    cmd: "rm README.partial mapping.py.md\n"
    deps:
    - path: README.md
      md5: ca6f0865b2b78202a7e1c10753e00523
      size: 16314
